import { APIGatewayProxyEvent } from 'aws-lambda';

export const joinGameHandlerEvent = (gameId: string, connectionId: string): APIGatewayProxyEvent => ({
    body: `{"data":{"gameId":"${gameId}","username":"player1","color":"blue"},"action":"joinGame"}`,
    isBase64Encoded: false,
    requestContext: {
        apiId: 'private',
        connectedAt: 1606052588176,
        connectionId,
        domainName: 'localhost',
        eventType: 'MESSAGE',
        extendedRequestId: 'ckht68s5s0015njic2m2ma76p',
        identity: {
            accessKey: null,
            accountId: null,
            caller: null,
            cognitoAuthenticationProvider: null,
            cognitoAuthenticationType: null,
            cognitoIdentityId: null,
            cognitoIdentityPoolId: null,
            principalOrgId: null,
            sourceIp: '127.0.0.1',
            user: null,
            userAgent: null,
            userArn: null,
            apiKey: 'offlineContext_apiKey',
            apiKeyId: '',
        },
        messageDirection: 'IN',
        messageId: 'ckht68s5s0016njicgk1e9ey9',
        requestId: 'ckht68s5s0017njichj326uhj',
        requestTime: '23/Nov/2020:00:43:08 +1100',
        requestTimeEpoch: 1606052588176,
        routeKey: 'joinGame',
        stage: 'local',
        protocol: 'HTTP/1.1',
        accountId: 'offlineContext_accountId',
        authorizer: {
            claims: undefined,
            principalId: 'offlineContext_authorizer_principalId',
        },
        httpMethod: 'POST',
        path: '/new-game',
        resourceId: 'offlineContext_resourceId',
        resourcePath: '/local/new-game',
    },
    headers: {
        Host: 'localhost:3001',
        Connection: 'Upgrade',
        Pragma: 'no-cache',
        'Cache-Control': 'no-cache',
        'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.198 Safari/537.36',
        Upgrade: 'websocket',
        Origin: 'http://localhost:3005',
        'Sec-WebSocket-Version': '13',
        'Accept-Encoding': 'gzip, deflate, br',
        'Accept-Language': 'en-AU,en;q=0.9,es-AR;q=0.8,es;q=0.7,en-GB;q=0.6,en-US;q=0.5',
        Cookie: 'wp-settings-time-1=1604133199',
        'Sec-WebSocket-Key': 'RhGepNh2CxNatG8P9f6l6A==',
        'Sec-WebSocket-Extensions': 'permessage-deflate; client_max_window_bits',
    },
    multiValueHeaders: {
        Host: ['localhost:3001'],
        Connection: ['Upgrade'],
        Pragma: ['no-cache'],
        'Cache-Control': ['no-cache'],
        'User-Agent': [
            'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.198 Safari/537.36',
        ],
        Upgrade: ['websocket'],
        Origin: ['http://localhost:3005'],
        'Sec-WebSocket-Version': ['13'],
        'Accept-Encoding': ['gzip, deflate, br'],
        'Accept-Language': ['en-AU,en;q=0.9,es-AR;q=0.8,es;q=0.7,en-GB;q=0.6,en-US;q=0.5'],
        Cookie: ['wp-settings-time-1=1604133199'],
        'Sec-WebSocket-Key': ['RhGepNh2CxNatG8P9f6l6A=='],
        'Sec-WebSocket-Extensions': ['permessage-deflate; client_max_window_bits'],
    },
    httpMethod: '',
    path: '',
    pathParameters: {},
    stageVariables: {},
    resource: '',
    multiValueQueryStringParameters: { game_id: [gameId] },
    queryStringParameters: { game_id: gameId },
});
